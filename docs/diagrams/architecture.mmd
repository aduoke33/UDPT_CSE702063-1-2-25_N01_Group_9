graph TB
    subgraph Clients["Clients"]
        Web[Web Browser]
        Mobile[Mobile App]
        API[API Client]
    end

    subgraph Gateway["API Gateway"]
        NGINX[NGINX]
        RL[Rate Limiter]
        SSL[SSL/TLS]
    end

    subgraph Services["Microservices"]
        AUTH[Auth Service<br/>Port 8001]
        MOVIE[Movie Service<br/>Port 8002]
        BOOKING[Booking Service<br/>Port 8003]
        PAYMENT[Payment Service<br/>Port 8004]
        NOTIFY[Notification Service<br/>Port 8005]
    end

    subgraph Data["Data Layer"]
        PG_AUTH[(PostgreSQL<br/>Auth DB)]
        PG_MOVIE[(PostgreSQL<br/>Movie DB)]
        PG_BOOKING[(PostgreSQL<br/>Booking DB)]
        PG_PAYMENT[(PostgreSQL<br/>Payment DB)]
        REDIS[(Redis<br/>Cache/Locks)]
        RABBIT[(RabbitMQ<br/>Messages)]
    end

    subgraph Monitoring["Monitoring"]
        PROM[Prometheus]
        GRAF[Grafana]
    end

    Web --> NGINX
    Mobile --> NGINX
    API --> NGINX

    NGINX --> RL
    RL --> SSL
    
    SSL --> AUTH
    SSL --> MOVIE
    SSL --> BOOKING
    SSL --> PAYMENT
    SSL --> NOTIFY

    AUTH --> PG_AUTH
    AUTH --> REDIS
    
    MOVIE --> PG_MOVIE
    MOVIE --> REDIS
    
    BOOKING --> PG_BOOKING
    BOOKING --> REDIS
    BOOKING --> RABBIT
    
    PAYMENT --> PG_PAYMENT
    PAYMENT --> REDIS
    PAYMENT --> RABBIT
    
    NOTIFY --> RABBIT

    AUTH --> PROM
    MOVIE --> PROM
    BOOKING --> PROM
    PAYMENT --> PROM
    NOTIFY --> PROM
    PROM --> GRAF
