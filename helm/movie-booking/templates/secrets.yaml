apiVersion: v1
kind: Secret
metadata:
  name: {{ include "movie-booking.fullname" . }}-secrets
  namespace: {{ .Values.namespace }}
  labels:
    {{- include "movie-booking.labels" . | nindent 4 }}
type: Opaque
stringData:
  jwt-secret-key: {{ .Values.secrets.jwtSecretKey | quote }}
  database-url: {{ include "movie-booking.databaseUrl" . | quote }}
  redis-url: {{ include "movie-booking.redisUrl" . | quote }}
  rabbitmq-url: {{ include "movie-booking.rabbitmqUrl" . | quote }}
  smtp-host: {{ .Values.secrets.smtp.host | quote }}
  smtp-port: {{ .Values.secrets.smtp.port | quote }}
  smtp-user: {{ .Values.secrets.smtp.user | quote }}
  smtp-password: {{ .Values.secrets.smtp.password | quote }}
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "movie-booking.fullname" . }}-config
  namespace: {{ .Values.namespace }}
  labels:
    {{- include "movie-booking.labels" . | nindent 4 }}
data:
  AUTH_SERVICE_URL: "http://auth-service:8000"
  MOVIE_SERVICE_URL: "http://movie-service:8000"
  BOOKING_SERVICE_URL: "http://booking-service:8000"
  PAYMENT_SERVICE_URL: "http://payment-service:8000"
  NOTIFICATION_SERVICE_URL: "http://notification-service:8000"
  LOG_LEVEL: "INFO"
  ENVIRONMENT: "production"
