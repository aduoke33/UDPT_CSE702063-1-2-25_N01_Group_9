# =====================================================
# APPLICATION SECRETS
# Movie Booking System - Database Per Service Pattern
# NOTE: In production, use external secret management (Vault, AWS Secrets Manager)
# =====================================================
apiVersion: v1
kind: Secret
metadata:
  name: app-secrets
  namespace: movie-booking
  labels:
    app: movie-booking
type: Opaque
stringData:
  # Auth Service Database
  AUTH_DATABASE_URL: "postgresql+asyncpg://auth_user:auth_password123@postgres-auth-service:5432/auth_db"
  
  # Movie Service Database
  MOVIE_DATABASE_URL: "postgresql+asyncpg://movie_user:movie_password123@postgres-movie-service:5432/movies_db"
  
  # Booking Service Database
  BOOKING_DATABASE_URL: "postgresql+asyncpg://booking_user:booking_password123@postgres-booking-service:5432/bookings_db"
  
  # Payment Service Database
  PAYMENT_DATABASE_URL: "postgresql+asyncpg://payment_user:payment_password123@postgres-payment-service:5432/payments_db"
  
  # Notification Service Database
  NOTIFICATION_DATABASE_URL: "postgresql+asyncpg://notification_user:notification_password123@postgres-notification-service:5432/notifications_db"
  
  # Redis Password
  REDIS_PASSWORD: "redis123"
  REDIS_URL: "redis://:redis123@redis-service:6379"
  
  # RabbitMQ Credentials
  RABBITMQ_USER: "admin"
  RABBITMQ_PASSWORD: "admin123"
  RABBITMQ_URL: "amqp://admin:admin123@rabbitmq-service:5672/"
  
  # JWT Secret Keys (RS256)
  SECRET_KEY: "your-super-secret-jwt-key-change-in-production-use-256-bits"
  
  # Service-to-Service Authentication
  SERVICE_AUTH_TOKEN: "internal-service-token-change-in-production"
  
  # SMTP Configuration (Email)
  SMTP_HOST: "smtp.gmail.com"
  SMTP_PORT: "587"
  SMTP_USER: "your-email@gmail.com"
  SMTP_PASSWORD: "your-app-password"
---
# Docker Registry Secret (for private registries)
apiVersion: v1
kind: Secret
metadata:
  name: docker-registry-secret
  namespace: movie-booking
type: kubernetes.io/dockerconfigjson
data:
  # Base64 encoded docker config.json
  # echo '{"auths":{"registry.example.com":{"username":"user","password":"pass"}}}' | base64
  .dockerconfigjson: e30=
