# =====================================================
# APPLICATION SECRETS - EXAMPLE TEMPLATE
# Movie Booking System - Database Per Service Pattern
# =====================================================
#
# ⚠️  WARNING: This is an EXAMPLE file only!
# ⚠️  DO NOT use these values in production!
#
# For production deployments, use one of these approaches:
#   1. HashiCorp Vault (see vault-deployment.yaml)
#   2. AWS Secrets Manager + ExternalSecrets (see external-secrets.yaml)
#   3. Azure Key Vault
#   4. GCP Secret Manager
#
# To use this file:
#   1. Copy to app-secrets.yaml
#   2. Replace all placeholder values with real secrets
#   3. Apply: kubectl apply -f app-secrets.yaml
#   4. Never commit the real secrets file!
#
# =====================================================
apiVersion: v1
kind: Secret
metadata:
  name: app-secrets
  namespace: movie-booking
  labels:
    app: movie-booking
type: Opaque
stringData:
  # ─────────────────────────────────────────────────────
  # DATABASE CREDENTIALS
  # Format: postgresql+asyncpg://USER:PASSWORD@HOST:PORT/DATABASE
  # ─────────────────────────────────────────────────────
  
  # Auth Service Database
  AUTH_DATABASE_URL: "postgresql+asyncpg://auth_user:CHANGE_ME@postgres-auth-service:5432/auth_db"
  
  # Movie Service Database
  MOVIE_DATABASE_URL: "postgresql+asyncpg://movie_user:CHANGE_ME@postgres-movie-service:5432/movies_db"
  
  # Booking Service Database
  BOOKING_DATABASE_URL: "postgresql+asyncpg://booking_user:CHANGE_ME@postgres-booking-service:5432/bookings_db"
  
  # Payment Service Database
  PAYMENT_DATABASE_URL: "postgresql+asyncpg://payment_user:CHANGE_ME@postgres-payment-service:5432/payments_db"
  
  # Notification Service Database
  NOTIFICATION_DATABASE_URL: "postgresql+asyncpg://notification_user:CHANGE_ME@postgres-notification-service:5432/notifications_db"
  
  # ─────────────────────────────────────────────────────
  # REDIS CREDENTIALS
  # ─────────────────────────────────────────────────────
  REDIS_PASSWORD: "CHANGE_ME_REDIS_PASSWORD"
  REDIS_URL: "redis://:CHANGE_ME_REDIS_PASSWORD@redis-service:6379"
  
  # ─────────────────────────────────────────────────────
  # RABBITMQ CREDENTIALS
  # ─────────────────────────────────────────────────────
  RABBITMQ_USER: "admin"
  RABBITMQ_PASSWORD: "CHANGE_ME_RABBITMQ_PASSWORD"
  RABBITMQ_URL: "amqp://admin:CHANGE_ME_RABBITMQ_PASSWORD@rabbitmq-service:5672/"
  
  # ─────────────────────────────────────────────────────
  # JWT AUTHENTICATION
  # Generate with: openssl rand -hex 32
  # ─────────────────────────────────────────────────────
  SECRET_KEY: "CHANGE_ME_GENERATE_256_BIT_SECRET_WITH_OPENSSL"
  
  # ─────────────────────────────────────────────────────
  # SERVICE-TO-SERVICE AUTHENTICATION
  # ─────────────────────────────────────────────────────
  SERVICE_AUTH_TOKEN: "CHANGE_ME_INTERNAL_SERVICE_TOKEN"
  
  # ─────────────────────────────────────────────────────
  # SMTP CONFIGURATION (Email Notifications)
  # ─────────────────────────────────────────────────────
  SMTP_HOST: "smtp.gmail.com"
  SMTP_PORT: "587"
  SMTP_USER: "your-email@example.com"
  SMTP_PASSWORD: "CHANGE_ME_APP_SPECIFIC_PASSWORD"
---
# =====================================================
# DOCKER REGISTRY SECRET - EXAMPLE
# For pulling images from private registries
# =====================================================
apiVersion: v1
kind: Secret
metadata:
  name: docker-registry-secret
  namespace: movie-booking
type: kubernetes.io/dockerconfigjson
data:
  # Base64 encoded docker config.json
  # Generate with:
  # kubectl create secret docker-registry docker-registry-secret \
  #   --docker-server=ghcr.io \
  #   --docker-username=YOUR_USERNAME \
  #   --docker-password=YOUR_GITHUB_TOKEN \
  #   --dry-run=client -o yaml
  .dockerconfigjson: e30=
